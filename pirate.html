<!DOCTYPE html>
<html>
<head>
  <title>Web Apps Assigment7</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" 
    integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
  <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js" 
    integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.min.js" 
    integrity="sha384-BBtl+eGJRgqQAUMxJ7pMwbEyER4l1g+O15P+16Ep7Q9Q+zqX6gSbd85u4mG4QzX+" crossorigin="anonymous"></script>
</head>
<body>

<div class="container-fluid">
  <h2>Find the treasure by Rahan Mohammed</h2>
  <p>Click on the locations to search for treasure, beware the traps</p>
  <p id="locations">Number of locations checked is zero</p>
  <p id="penalty" style="color: rgb(232, 212, 157); background-color: rgb(104, 116, 226);">Penalty is zero.</p>
  <div class="ram" onclick="help()">Click for help.</div>  
  <p id="help" style="color: green; background-position:0cqmin;"><b>Help report</b></p>
</div>
<div class="container">
    <div class="row mb-3">
    <div class="col-md-2"> 
        <img src="./treasurelocation.jpg" width="180" height="100" id="Id1" onclick="check(0)">
    </div>
    <div class="col-md-2">
        <img src="./treasurelocation.jpg" width="180" height="100" id="Id2" onclick="check(1)">
    </div>
    <div class="col-md-2">
        <img src="./treasurelocation.jpg" width="180" height="100" id="Id3" onclick="check(2)">
    </div>
    <div class="col-md-2">
        <img src="./treasurelocation.jpg" width="180" height="100" id="Id4" onclick="check(3)">
    </div>
    <div class="col-md-2">
        <img src="./treasurelocation.jpg" width="180" height="100" id="Id5" onclick="check(4)">
    </div>    
    <div class="row"></div>
</div>
</div>
<div class="container">
    <div class="row mb-3">
    <div class="col-md-2"> 
        <img src="./treasurelocation.jpg" width="180" height="100" id="Id6" onclick="check(5)">
    </div>
    <div class="col-md-2">
        <img src="./treasurelocation.jpg" width="180" height="100" id="Id7" onclick="check(6)">
    </div>
    <div class="col-md-2">
        <img src="./treasurelocation.jpg" width="180" height="100" id="Id8" onclick="check(7)">
    </div>
    <div class="col-md-2">
        <img src="./treasurelocation.jpg" width="180" height="100" id="Id9" onclick="check(8)">
    </div>
    <div class="col-md-2">
        <img src="./treasurelocation.jpg" width="180" height="100" id="Id10" onclick="check(9)">
    </div>   
    <div class="row"></div>
</div>
</div>
<div class="container">
    <div class="row mb-3">
    <div class="col-md-2"> 
        <img src="./treasurelocation.jpg" width="180" height="100" id="Id11" onclick="check(10)">
    </div>
    <div class="col-md-2">
        <img src="./treasurelocation.jpg" width="180" height="100" id="Id12" onclick="check(11)">
    </div>
    <div class="col-md-2">
        <img src="./treasurelocation.jpg" width="180" height="100" id="Id13" onclick="check(12)">
    </div>
    <div class="col-md-2">
        <img src="./treasurelocation.jpg" width="180" height="100" id="Id14" onclick="check(13)">
    </div>
    <div class="col-md-2">
        <img src="./treasurelocation.jpg" width="180" height="100" id="Id15" onclick="check(14)">
    </div>    
    <div class="row"></div>
</div>
</div>
<div class="container">
    <div class="row mb-3">
    <div class="col-md-2"> 
        <img src="./treasurelocation.jpg" width="180" height="100" id="Id16" onclick="check(15)">
    </div>
    <div class="col-md-2">
        <img src="./treasurelocation.jpg" width="180" height="100" id="Id17" onclick="check(16)">
    </div>
    <div class="col-md-2">
        <img src="./treasurelocation.jpg" width="180" height="100" id="Id18" onclick="check(17)">
    </div>
    <div class="col-md-2">
        <img src="./treasurelocation.jpg" width="180" height="100" id="Id19" onclick="check(18)">
    </div>
    <div class="col-md-2">
        <img src="./treasurelocation.jpg" width="180" height="100" id="Id20" onclick="check(19)">
    </div>    
    <div class="row"></div>
</div>
</div>
<div class="container">
    <div class="row mb-3">
    <div class="col-md-2"> 
        <img src="./treasurelocation.jpg" width="180" height="100" id="Id21" onclick="check(20)">
    </div>
    <div class="col-md-2">
        <img src="./treasurelocation.jpg" width="180" height="100" id="Id22" onclick="check(21)">
    </div>
    <div class="col-md-2">
        <img src="./treasurelocation.jpg" width="180" height="100" id="Id23" onclick="check(22)">
    </div>
    <div class="col-md-2">
        <img src="./treasurelocation.jpg" width="180" height="100" id="Id24" onclick="check(23)">
    </div>
    <div class="col-md-2">
        <img src="./treasurelocation.jpg" width="180" height="100" id="Id25" onclick="check(24)">
    </div>    
    <div class="row"></div>
</div>
</div> 

<script>
    const imgArr = ["Id1", "Id2", "Id3", "Id4", "Id5", "Id6", "Id7", "Id8", "Id9", "Id10", "Id11", "Id12", "Id13", "Id14", "Id15", "Id16", "Id17", "Id18", "Id19", "Id20", "Id21", "Id22", "Id23", "Id24","Id25"]
    let checkCount = 0
    let penalty = 0
    let lastCheck = 0
    let treasureLocation =5
    let trapLocation = 18
    let gameOver = false
    function check(position){
        if(!gameOver){
            let idPosition = document.getElementById(imgArr[position])
           console.log(idPosition)
          
           if(position == treasureLocation){
            idPosition.src = "./treasure.JPG"
                gameOver = true
                penalty = penalty-3
                
           }else if(position==trapLocation){
            idPosition.src = "./trap.JPG"
                gameOver = true
                penalty = penalty+4
           }else{
            idPosition.src = "./pirate.JPG"
                penalty = penalty+1
           }               
           checkCount++
           document.getElementById("locations").innerHTML = "Number of locations checked is " + checkCount + ".";
           document.getElementById("penalty").innerHTML = "penalty is " +penalty+".";
           lastCheck = position
        }
    }
    function help() {
            let last_A = parseInt((lastCheck / 5), 10);
            let treasure_A = parseInt((treasureLocation / 5), 10);
            let res = " ";
            let last_D = lastCheck % 5;
            let treasure_C = treasureLocation % 5;
            let rowDiff = 0;
            let colDiff = 0;
            if (treasure_A > last_A) {
                rowDiff = treasure_A - last_A;
            }
            else {
                rowDiff = last_A - treasure_A;
            }
            if (treasure_C > last_D) {
                colDiff = treasure_C - last_D;
            }
            else {
                colDiff = last_D - treasure_C;
            }
            if (last_A - treasure_A == 1 || last_A - treasure_A == 1 || last_D - treasure_C == 1 || last_D - treasure_C == -1) {
                res = "Can smell it";
            }
            else if (rowDiff + colDiff == 2) {
                res = "Close Matie";
            }
            else {
                res = "Step Faster";
            }
            penalty = penalty + 2;
            document.getElementById("penalty").innerHTML = "Penalty is " + penalty + ".";
            document.getElementById("help").innerHTML = res;
        }
    </script>

</body>
</html>